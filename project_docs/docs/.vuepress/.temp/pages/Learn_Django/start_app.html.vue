<template><div><h3 id="ğŸ“²-start-app" tabindex="-1"><a class="header-anchor" href="#ğŸ“²-start-app"><span>ğŸ“² Start App</span></a></h3>
<h6 id="start-app" tabindex="-1"><a class="header-anchor" href="#start-app"><span>Start App</span></a></h6>
<div class="language-cmd line-numbers-mode" data-highlighter="prismjs" data-ext="cmd"><pre v-pre><code><span class="line">cd backend_django</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-cmd line-numbers-mode" data-highlighter="prismjs" data-ext="cmd"><pre v-pre><code><span class="line">python manage.py startapp users_accounts</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-cmd line-numbers-mode" data-highlighter="prismjs" data-ext="cmd"><pre v-pre><code><span class="line">python manage.py startapp notification</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-cmd line-numbers-mode" data-highlighter="prismjs" data-ext="cmd"><pre v-pre><code><span class="line">python manage.py startapp vendor</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-cmd line-numbers-mode" data-highlighter="prismjs" data-ext="cmd"><pre v-pre><code><span class="line">python manage.py startapp product</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-cmd line-numbers-mode" data-highlighter="prismjs" data-ext="cmd"><pre v-pre><code><span class="line">python manage.py startapp client</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-cmd line-numbers-mode" data-highlighter="prismjs" data-ext="cmd"><pre v-pre><code><span class="line">python manage.py startapp scraper</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-cmd line-numbers-mode" data-highlighter="prismjs" data-ext="cmd"><pre v-pre><code><span class="line">python manage.py startapp api</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-cmd line-numbers-mode" data-highlighter="prismjs" data-ext="cmd"><pre v-pre><code><span class="line">python manage.py startapp sheets</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3 id="ğŸ‘¥-start-app-users-accounts" tabindex="-1"><a class="header-anchor" href="#ğŸ‘¥-start-app-users-accounts"><span>ğŸ‘¥ Start App users_accounts</span></a></h3>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line"><span class="token comment"># ğŸ“„ [users_accounts/models.py] ØµÙØ­Ø©</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> uuid</span>
<span class="line"></span>
<span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>conf <span class="token keyword">import</span> settings</span>
<span class="line"></span>
<span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>models <span class="token keyword">import</span> AbstractBaseUser<span class="token punctuation">,</span> PermissionsMixin<span class="token punctuation">,</span> UserManager</span>
<span class="line"></span>
<span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>utils <span class="token keyword">import</span> timezone</span>
<span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>timesince <span class="token keyword">import</span> timesince</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ğŸ‘¥ Ù…Ø¯ÙŠØ± Ù…Ø®ØµØµ Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">CustomUserManager</span><span class="token punctuation">(</span>UserManager<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">_create_user</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password<span class="token punctuation">,</span> <span class="token operator">**</span>extra_fields<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># âœ‰ï¸ ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token keyword">not</span> email<span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"You have not provided a valid e-mail address"</span><span class="token punctuation">)</span></span>
<span class="line">        email <span class="token operator">=</span> self<span class="token punctuation">.</span>normalize_email<span class="token punctuation">(</span>email<span class="token punctuation">)</span></span>
<span class="line">        user <span class="token operator">=</span> self<span class="token punctuation">.</span>model<span class="token punctuation">(</span>email<span class="token operator">=</span>email<span class="token punctuation">,</span> name<span class="token operator">=</span>name<span class="token punctuation">,</span> <span class="token operator">**</span>extra_fields<span class="token punctuation">)</span></span>
<span class="line">        user<span class="token punctuation">.</span>set_password<span class="token punctuation">(</span>password<span class="token punctuation">)</span></span>
<span class="line">        user<span class="token punctuation">.</span>save<span class="token punctuation">(</span>using<span class="token operator">=</span>self<span class="token punctuation">.</span>_db<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> user</span>
<span class="line"></span>
<span class="line">    <span class="token comment"># ğŸ‘¤ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">create_user</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> email<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token operator">**</span>extra_fields<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        extra_fields<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span><span class="token string">"is_staff"</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">)</span></span>
<span class="line">        extra_fields<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span><span class="token string">"is_superuser"</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_create_user<span class="token punctuation">(</span>name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password<span class="token punctuation">,</span> <span class="token operator">**</span>extra_fields<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># ğŸ›¡ï¸ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø¯Ø§Ø±ÙŠ (Ø³ÙˆØ¨Ø± ÙŠÙˆØ²Ø±)</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">create_superuser</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> email<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token operator">**</span>extra_fields<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        extra_fields<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span><span class="token string">"is_staff"</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">        extra_fields<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span><span class="token string">"is_superuser"</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_create_user<span class="token punctuation">(</span>name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password<span class="token punctuation">,</span> <span class="token operator">**</span>extra_fields<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ğŸ§‘ Custom User Form ğŸ§‘ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø®ØµØµ</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">(</span>AbstractBaseUser<span class="token punctuation">,</span> PermissionsMixin<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># ___________________</span></span>
<span class="line">    <span class="token comment"># Ø­Ù‚Ù„ ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠ</span></span>
<span class="line">    <span class="token comment"># ___________________</span></span>
<span class="line">    <span class="token builtin">id</span> <span class="token operator">=</span> models<span class="token punctuation">.</span>UUIDField<span class="token punctuation">(</span>primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> default<span class="token operator">=</span>uuid<span class="token punctuation">.</span>uuid4<span class="token punctuation">,</span> editable<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></span>
<span class="line">    is_active <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">    is_superuser <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></span>
<span class="line">    is_staff <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></span>
<span class="line">    objects <span class="token operator">=</span> CustomUserManager<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># ğŸ‘¥ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ ÙˆØ®ØµØ§Ø¦Øµ Ø§Ù„ØµØ¯Ø§Ù‚Ø§Øª</span></span>
<span class="line">    friends <span class="token operator">=</span> models<span class="token punctuation">.</span>ManyToManyField<span class="token punctuation">(</span><span class="token string">"self"</span><span class="token punctuation">)</span></span>
<span class="line">    friends_count <span class="token operator">=</span> models<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">    people_you_may_know <span class="token operator">=</span> models<span class="token punctuation">.</span>ManyToManyField<span class="token punctuation">(</span><span class="token string">"self"</span><span class="token punctuation">)</span></span>
<span class="line">    date_joined <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span>default<span class="token operator">=</span>timezone<span class="token punctuation">.</span>now<span class="token punctuation">)</span></span>
<span class="line">    last_login <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span>auto_now<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># ___________________</span></span>
<span class="line">    <span class="token comment"># Ø­Ù‚Ù„ ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ø§Ù…</span></span>
<span class="line">    <span class="token comment"># ___________________</span></span>
<span class="line">    <span class="token comment"># ğŸ“› User Data Properties Ø®ØµØ§Ø¦Øµ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</span></span>
<span class="line">    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span></span>
<span class="line">    surname <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span></span>
<span class="line">    email <span class="token operator">=</span> models<span class="token punctuation">.</span>EmailField<span class="token punctuation">(</span>unique<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">    date_of_birth <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span>default<span class="token operator">=</span>timezone<span class="token punctuation">.</span>now<span class="token punctuation">)</span></span>
<span class="line">    gender <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">    avatar <span class="token operator">=</span> models<span class="token punctuation">.</span>ImageField<span class="token punctuation">(</span>upload_to<span class="token operator">=</span><span class="token string">"avatars"</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">    cover <span class="token operator">=</span> models<span class="token punctuation">.</span>ImageField<span class="token punctuation">(</span>upload_to<span class="token operator">=</span><span class="token string">"covers"</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">    skills <span class="token operator">=</span> models<span class="token punctuation">.</span>JSONField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">    task_count <span class="token operator">=</span> models<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">    is_online <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></span>
<span class="line">    is_vendor <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    USERNAME_FIELD <span class="token operator">=</span> <span class="token string">"email"</span></span>
<span class="line">    EMAIL_FIELD <span class="token operator">=</span> <span class="token string">"email"</span></span>
<span class="line">    REQUIRED_FIELDS <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">get_avatar</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">if</span> self<span class="token punctuation">.</span>avatar<span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">return</span> settings<span class="token punctuation">.</span>WEBSITE_URL <span class="token operator">+</span> self<span class="token punctuation">.</span>avatar<span class="token punctuation">.</span>url</span>
<span class="line">        <span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token string">"https://picsum.photos/200/200"</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">get_cover</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">if</span> self<span class="token punctuation">.</span>cover<span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">return</span> settings<span class="token punctuation">.</span>WEBSITE_URL <span class="token operator">+</span> self<span class="token punctuation">.</span>cover<span class="token punctuation">.</span>url</span>
<span class="line">        <span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token string">"https://picsum.photos/200/200"</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">date_joined_formatted</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">return</span> timesince<span class="token punctuation">(</span>self<span class="token punctuation">.</span>date_joined<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">last_login_formatted</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">return</span> timesince<span class="token punctuation">(</span>self<span class="token punctuation">.</span>last_login<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ğŸ“¬ Friend Request Form Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ø§Ù„ØµØ¯Ø§Ù‚Ø©</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">FriendshipRequest</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># ğŸ“ Friend request cases  Ø­Ø§Ù„Ø§Øª Ø·Ù„Ø¨ Ø§Ù„ØµØ¯Ø§Ù‚Ø©</span></span>
<span class="line">    NOTSEND <span class="token operator">=</span> <span class="token string">"notsend"</span>  <span class="token comment"># ğŸš« Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</span></span>
<span class="line">    SEND <span class="token operator">=</span> <span class="token string">"send"</span>  <span class="token comment"># âœ‰ï¸ ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</span></span>
<span class="line">    WAITING <span class="token operator">=</span> <span class="token string">"waiting"</span>  <span class="token comment"># â³ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø±Ø¯</span></span>
<span class="line">    ACCEPTED <span class="token operator">=</span> <span class="token string">"accepted"</span>  <span class="token comment"># âœ… ØªÙ… Ø§Ù„Ù‚Ø¨ÙˆÙ„</span></span>
<span class="line">    REJECTED <span class="token operator">=</span> <span class="token string">"rejected"</span>  <span class="token comment"># âŒ ØªÙ… Ø§Ù„Ø±ÙØ¶</span></span>
<span class="line">    CANCEL <span class="token operator">=</span> <span class="token string">"cancel"</span>  <span class="token comment"># ğŸ”„ ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡</span></span>
<span class="line">    UNFRIEND <span class="token operator">=</span> <span class="token string">"unfriend"</span>  <span class="token comment"># ğŸ”„ ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØµØ¯Ø§Ù‚Ø©</span></span>
<span class="line">    BLOCKED <span class="token operator">=</span> <span class="token string">"blocked"</span>  <span class="token comment"># ğŸš« Ø§Ù„Ø­Ø¸Ø±</span></span>
<span class="line">    MUTED <span class="token operator">=</span> <span class="token string">"muted"</span>  <span class="token comment"># ğŸ”• Ø§Ù„ÙƒØªÙ…</span></span>
<span class="line">    FROZEN <span class="token operator">=</span> <span class="token string">"frozen"</span>  <span class="token comment"># ğŸ§Š ØªØ¬Ù…ÙŠØ¯</span></span>
<span class="line">    ARCHIVED <span class="token operator">=</span> <span class="token string">"archived"</span>  <span class="token comment"># ğŸ“¦ Ù…Ø¤Ø±Ø´Ù</span></span>
<span class="line">    FOLLOWING <span class="token operator">=</span> <span class="token string">"following"</span>  <span class="token comment"># ğŸ‘¥ Ù…ØªØ§Ø¨Ø¹Ø©</span></span>
<span class="line">    UNFOLLOWED <span class="token operator">=</span> <span class="token string">"unfollowed"</span>  <span class="token comment"># ğŸš« Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©</span></span>
<span class="line">    REPORTED <span class="token operator">=</span> <span class="token string">"reported"</span>  <span class="token comment"># ğŸš¨ ØªÙ… Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù†Ù‡</span></span>
<span class="line">    SPAM <span class="token operator">=</span> <span class="token string">"spam"</span>  <span class="token comment"># ğŸ—‘ï¸ Ø¨Ø±ÙŠØ¯ Ù…Ø²Ø¹Ø¬</span></span>
<span class="line">    DELETED <span class="token operator">=</span> <span class="token string">"deleted"</span>  <span class="token comment"># ğŸ—‘ï¸ Ù…Ø­Ø°ÙˆÙ</span></span>
<span class="line">    FAVORITE <span class="token operator">=</span> <span class="token string">"favorite"</span>  <span class="token comment"># ğŸŒŸ Ù…ÙØ¶Ù„</span></span>
<span class="line">    TEMPORARILY_BLOCKED <span class="token operator">=</span> <span class="token string">"temporarily_blocked"</span>  <span class="token comment"># â³ Ø­Ø¸Ø± Ù…Ø¤Ù‚Øª</span></span>
<span class="line">    VERIFIED <span class="token operator">=</span> <span class="token string">"verified"</span>  <span class="token comment"># âœ”ï¸ ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚</span></span>
<span class="line">    REQUEST_RESENT <span class="token operator">=</span> <span class="token string">"request_resent"</span>  <span class="token comment"># ğŸ”„ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</span></span>
<span class="line">    SUGGESTED <span class="token operator">=</span> <span class="token string">"suggested"</span>  <span class="token comment"># ğŸ’¡ Ù…Ù‚ØªØ±Ø­</span></span>
<span class="line">    IGNORED <span class="token operator">=</span> <span class="token string">"ignored"</span>  <span class="token comment"># ğŸ›‘ ØªÙ… Ø§Ù„ØªØ¬Ø§Ù‡Ù„</span></span>
<span class="line">    INACTIVE <span class="token operator">=</span> <span class="token string">"inactive"</span>  <span class="token comment"># âš ï¸ ØºÙŠØ± Ù†Ø´Ø·</span></span>
<span class="line">    LIMITED <span class="token operator">=</span> <span class="token string">"limited"</span>  <span class="token comment"># ğŸš« Ù…Ø­Ø¯ÙˆØ¯</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># ğŸ“œ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø© Ù…Ø¹ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø©</span></span>
<span class="line">    STATUS_CHOICES <span class="token operator">=</span> <span class="token punctuation">(</span></span>
<span class="line">        <span class="token punctuation">(</span>NOTSEND<span class="token punctuation">,</span> <span class="token string">"NotSent"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸš« Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</span></span>
<span class="line">        <span class="token punctuation">(</span>SEND<span class="token punctuation">,</span> <span class="token string">"Send"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># âœ‰ï¸ ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</span></span>
<span class="line">        <span class="token punctuation">(</span>WAITING<span class="token punctuation">,</span> <span class="token string">"Waiting"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># â³ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø±Ø¯</span></span>
<span class="line">        <span class="token punctuation">(</span>ACCEPTED<span class="token punctuation">,</span> <span class="token string">"Accepted"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># âœ… ØªÙ… Ø§Ù„Ù‚Ø¨ÙˆÙ„</span></span>
<span class="line">        <span class="token punctuation">(</span>REJECTED<span class="token punctuation">,</span> <span class="token string">"Rejected"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># âŒ ØªÙ… Ø§Ù„Ø±ÙØ¶</span></span>
<span class="line">        <span class="token punctuation">(</span>CANCEL<span class="token punctuation">,</span> <span class="token string">"Cancel"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ”„ ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡</span></span>
<span class="line">        <span class="token punctuation">(</span>UNFRIEND<span class="token punctuation">,</span> <span class="token string">"Unfriend"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ”„ ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡</span></span>
<span class="line">        <span class="token punctuation">(</span>BLOCKED<span class="token punctuation">,</span> <span class="token string">"Blocked"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸš« Ø§Ù„Ø­Ø¸Ø±</span></span>
<span class="line">        <span class="token punctuation">(</span>MUTED<span class="token punctuation">,</span> <span class="token string">"Muted"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ”• Ø§Ù„ÙƒØªÙ…</span></span>
<span class="line">        <span class="token punctuation">(</span>FROZEN<span class="token punctuation">,</span> <span class="token string">"Frozen"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ§Š ØªØ¬Ù…ÙŠØ¯</span></span>
<span class="line">        <span class="token punctuation">(</span>ARCHIVED<span class="token punctuation">,</span> <span class="token string">"Archived"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ“¦ Ù…Ø¤Ø±Ø´Ù</span></span>
<span class="line">        <span class="token punctuation">(</span>FOLLOWING<span class="token punctuation">,</span> <span class="token string">"Following"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ‘¥ Ù…ØªØ§Ø¨Ø¹Ø©</span></span>
<span class="line">        <span class="token punctuation">(</span>UNFOLLOWED<span class="token punctuation">,</span> <span class="token string">"Unfollowed"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸš« Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©</span></span>
<span class="line">        <span class="token punctuation">(</span>REPORTED<span class="token punctuation">,</span> <span class="token string">"Reported"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸš¨ ØªÙ… Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù†Ù‡</span></span>
<span class="line">        <span class="token punctuation">(</span>SPAM<span class="token punctuation">,</span> <span class="token string">"Spam"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ—‘ï¸ Ø¨Ø±ÙŠØ¯ Ù…Ø²Ø¹Ø¬</span></span>
<span class="line">        <span class="token punctuation">(</span>DELETED<span class="token punctuation">,</span> <span class="token string">"Deleted"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ—‘ï¸ Ù…Ø­Ø°ÙˆÙ</span></span>
<span class="line">        <span class="token punctuation">(</span>FAVORITE<span class="token punctuation">,</span> <span class="token string">"Favorite"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸŒŸ Ù…ÙØ¶Ù„</span></span>
<span class="line">        <span class="token punctuation">(</span>TEMPORARILY_BLOCKED<span class="token punctuation">,</span> <span class="token string">"TemporarilyBlocked"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># â³ Ø­Ø¸Ø± Ù…Ø¤Ù‚Øª</span></span>
<span class="line">        <span class="token punctuation">(</span>VERIFIED<span class="token punctuation">,</span> <span class="token string">"Verified"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># âœ”ï¸ ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚</span></span>
<span class="line">        <span class="token punctuation">(</span>REQUEST_RESENT<span class="token punctuation">,</span> <span class="token string">"RequestResent"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ”„ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</span></span>
<span class="line">        <span class="token punctuation">(</span>SUGGESTED<span class="token punctuation">,</span> <span class="token string">"Suggested"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ’¡ Ù…Ù‚ØªØ±Ø­</span></span>
<span class="line">        <span class="token punctuation">(</span>IGNORED<span class="token punctuation">,</span> <span class="token string">"Ignored"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸ›‘ ØªÙ… Ø§Ù„ØªØ¬Ø§Ù‡Ù„</span></span>
<span class="line">        <span class="token punctuation">(</span>INACTIVE<span class="token punctuation">,</span> <span class="token string">"Inactive"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># âš ï¸ ØºÙŠØ± Ù†Ø´Ø·</span></span>
<span class="line">        <span class="token punctuation">(</span>LIMITED<span class="token punctuation">,</span> <span class="token string">"Limited"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># ğŸš« Ù…Ø­Ø¯ÙˆØ¯</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># ğŸ”‘ Friend Request UUID Essential Field Ø­Ù‚Ù„ Ø£Ø³Ø§Ø³ÙŠ UUID Ù„Ø·Ù„Ø¨ Ø§Ù„ØµØ¯Ø§Ù‚Ø©</span></span>
<span class="line">    <span class="token builtin">id</span> <span class="token operator">=</span> models<span class="token punctuation">.</span>UUIDField<span class="token punctuation">(</span>primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> default<span class="token operator">=</span>uuid<span class="token punctuation">.</span>uuid4<span class="token punctuation">,</span> editable<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># ğŸ§‘ User receiving the request  Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø³ØªÙ„Ù… Ù„Ù„Ø·Ù„Ø¨</span></span>
<span class="line">    created_for <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span></span>
<span class="line">        User<span class="token punctuation">,</span> related_name<span class="token operator">=</span><span class="token string">"received_friendshiprequests"</span><span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE</span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># ğŸ§‘ The user who sent the request  Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø±Ø³Ù„ Ù„Ù„Ø·Ù„Ø¨</span></span>
<span class="line">    created_by <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span></span>
<span class="line">        User<span class="token punctuation">,</span> related_name<span class="token operator">=</span><span class="token string">"created_friendshiprequests"</span><span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE</span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># ğŸ“… Creation date ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</span></span>
<span class="line">    created_at <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span>auto_now_add<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># ğŸ“ Order Status  Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</span></span>
<span class="line">    <span class="token comment"># ğŸš« Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„"</span></span>
<span class="line">    status <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span></span>
<span class="line">        max_length<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> choices<span class="token operator">=</span>STATUS_CHOICES<span class="token punctuation">,</span> default<span class="token operator">=</span>NOTSEND<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span></span>
<span class="line">        ordering <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"-created_at"</span><span class="token punctuation">,</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">"%s"</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>status</span>
<span class="line"></span>
<span class="line">    <span class="token comment"># ğŸ” Retrieve All Friend Requests by User and Status ğŸ”</span></span>
<span class="line">    <span class="token comment"># ğŸ§‘â€ğŸ¤â€ğŸ§‘ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØµØ¯Ø§Ù‚Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„Ø­Ø§Ù„Ø©</span></span>
<span class="line">    <span class="token decorator annotation punctuation">@staticmethod</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">get_friends_by_status</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">"""Ø¬Ù„Ø¨ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø­Ø§Ù„Ø© Ù…Ø­Ø¯Ø¯Ø©"""</span></span>
<span class="line">        <span class="token keyword">if</span> status <span class="token operator">==</span> FriendshipRequest<span class="token punctuation">.</span>ACCEPTED<span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">return</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span></span>
<span class="line">                received_friendshiprequests__created_by<span class="token operator">=</span>user<span class="token punctuation">,</span></span>
<span class="line">                received_friendshiprequests__status<span class="token operator">=</span>status<span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">)</span> <span class="token operator">|</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span></span>
<span class="line">                created_friendshiprequests__created_for<span class="token operator">=</span>user<span class="token punctuation">,</span></span>
<span class="line">                created_friendshiprequests__status<span class="token operator">=</span>status<span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span></span>
<span class="line">            received_friendshiprequests__created_by<span class="token operator">=</span>user<span class="token punctuation">,</span></span>
<span class="line">            received_friendshiprequests__status<span class="token operator">=</span>status<span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>


